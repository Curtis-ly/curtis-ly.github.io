(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{208:function(e,t,i){"use strict";(function(e){var a=i(18),n=i(19),l=i(21),s=i(16),r=i(22),o=i(0),c=i.n(o),h=i(11),p=i(220),u=i(216),m=(i(508),function(t){function i(t){var n;return Object(a.a)(this,i),(n=Object(l.a)(this,Object(s.a)(i).call(this,t))).state={selectedTab:e.constants.homeTab},n}return Object(r.a)(i,t),Object(n.a)(i,[{key:"render",value:function(){var t=this;return c.a.createElement("div",{style:{position:"fixed",height:"100%",width:"100%",top:0,webkitOverflowScrolling:"touch"}},c.a.createElement(h.i,{unselectedTintColor:"#949494",tintColor:"#FAA0B8",barTintColor:"white"},c.a.createElement(h.i.Item,{icon:c.a.createElement("div",{style:{width:"22px",height:"22px",background:"url(https://liuyang890-10060662.cos.ap-shanghai.myqcloud.com/lipstick/icon_tab_home_nor.png) center center /  21px 21px no-repeat"}}),selectedIcon:c.a.createElement("div",{style:{width:"22px",height:"22px",background:"url(https://liuyang890-10060662.cos.ap-shanghai.myqcloud.com/lipstick/icon_tab_home_sel.png) center center /  21px 21px no-repeat"}}),title:"\u95ef\u5173",key:"home",selected:"homeTab"===this.state.selectedTab,onPress:function(){e.constants.homeTab="homeTab",t.setState({selectedTab:"homeTab"})}},c.a.createElement(p.a,null)),c.a.createElement(h.i.Item,{icon:c.a.createElement("div",{style:{width:"22px",height:"22px",background:"url(https://liuyang890-10060662.cos.ap-shanghai.myqcloud.com/lipstick/icon_tab_my_nor.png) center center /  21px 21px no-repeat"}}),selectedIcon:c.a.createElement("div",{style:{width:"22px",height:"22px",background:"url(https://liuyang890-10060662.cos.ap-shanghai.myqcloud.com/lipstick/icon_tab_my_sel.png) center center /  21px 21px no-repeat"}}),title:"\u6211\u7684",key:"my",selected:"myTab"===this.state.selectedTab,onPress:function(){e.constants.homeTab="myTab",t.setState({selectedTab:"myTab"})}},c.a.createElement(u.a,null))))}}]),i}(o.Component));t.a=m}).call(this,i(85))},216:function(e,t,i){"use strict";var a=i(18),n=i(19),l=i(21),s=i(16),r=i(22),o=i(50),c=i(0),h=i.n(c),p=i(11),u=i(1),m=i.n(u),d=function(e){function t(e){var i;return Object(a.a)(this,t),(i=Object(l.a)(this,Object(s.a)(t).call(this,e))).onClickPrizeList=i.onClickPrizeList.bind(Object(o.a)(Object(o.a)(i))),i}return Object(r.a)(t,e),Object(n.a)(t,[{key:"onClickPrizeList",value:function(){this.context.router.history.push("/PrizeList")}},{key:"render",value:function(){var e=this;return h.a.createElement("div",{style:{background:"rgba(250,245,247,1.0)",overflow:"hidden"}},h.a.createElement(p.k,null,h.a.createElement("div",{style:{textAlign:"center"}},h.a.createElement("img",{style:{marginTop:"25px",borderRadius:"50px",border:"none",width:"83px",height:"83px"},src:"http://b.hiphotos.baidu.com/image/pic/item/8435e5dde71190ef772420c0cc1b9d16fcfa60d5.jpg",alt:""}),h.a.createElement("h2",null,"\u5965\u5df4\u9a6c")),h.a.createElement(p.d,null,h.a.createElement(p.d.Item,{extra:h.a.createElement("span",{style:{color:"#333333",fontSize:"15px"}},"\u53bb\u5145\u503c"),thumb:"https://liuyang890-10060662.cos.ap-shanghai.myqcloud.com/lipstick/icon_balance.png",multipleLine:!0,arrow:"horizontal",onClick:function(){}},h.a.createElement("span",{style:{color:"#000000",fontSize:"12px"}},"\u6211\u7684\u4f59\u989d"),h.a.createElement(p.d.Item.Brief,{style:{color:"#F85668",fontSize:"15px"}},"\xa51999\u5143"))),h.a.createElement(p.d,{renderHeader:function(){return""}},h.a.createElement(p.d.Item,{arrow:"horizontal",thumb:"https://liuyang890-10060662.cos.ap-shanghai.myqcloud.com/lipstick/icon_my_prize.png",onClick:function(){e.onClickPrizeList()}},h.a.createElement("span",{style:{color:"#000000",fontSize:"15px"}},"\u6211\u7684\u5956\u54c1")),h.a.createElement(p.d.Item,{arrow:"horizontal",thumb:"https://liuyang890-10060662.cos.ap-shanghai.myqcloud.com/lipstick/icon_customer_service.png",onClick:function(){}},h.a.createElement("span",{style:{color:"#000000",fontSize:"15px"}},"\u8054\u7cfb\u5ba2\u670d"))),h.a.createElement(p.d,{renderHeader:function(){return""}},h.a.createElement(p.d.Item,{arrow:"horizontal",thumb:"https://liuyang890-10060662.cos.ap-shanghai.myqcloud.com/lipstick/icon_address.png",onClick:function(){}},h.a.createElement("span",{style:{color:"#000000",fontSize:"15px"}},"\u6536\u8d27\u5730\u5740"),h.a.createElement(p.d.Item.Brief,null)),h.a.createElement(p.d.Item,{multipleLine:!0},h.a.createElement("span",{inline:!0,style:{color:"#343434",fontSize:"12px"}},"\u6536\u4ef6\u4eba\uff1a"),h.a.createElement("span",{inline:!0,style:{color:"#343434",fontSize:"12px"}},"\u592a\u5148\u751f"),h.a.createElement("br",null),h.a.createElement("span",{style:{color:"#343434",fontSize:"12px"}},"\u8054\u7cfb\u65b9\u5f0f\uff1a"),h.a.createElement("span",{inline:!0,style:{color:"#343434",fontSize:"12px"}},"13100000000"),h.a.createElement("br",null),h.a.createElement("span",{style:{color:"#343434",fontSize:"12px"}},"\u6536\u4ef6\u5730\u5740\uff1a"),h.a.createElement("span",{inline:!0,style:{color:"#343434",fontSize:"12px"}},"\u56db\u5ddd\u7701\u6210\u90fd\u5e02\u9ad8\u65b0\u533aXXXX"))),h.a.createElement(p.j,{size:"lg"})))}}]),t}(c.Component);d.contextTypes={router:m.a.object.isRequired},t.a=d},220:function(e,t,i){"use strict";var a=i(18),n=i(19),l=i(21),s=i(16),r=i(22),o=i(0),c=i.n(o),h=i(11),p=function(e){function t(e){return Object(a.a)(this,t),Object(l.a)(this,Object(s.a)(t).call(this,e))}return Object(r.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(h.g,{icon:null,style:{background:"rgba(0,0,0,0.3)"},marqueeProps:{loop:!0,style:{padding:"0 7.5px"}}},c.a.createElement("span",{style:{color:"#ffffff"}},"\u606d\u559cxxxx\u6210\u529f\u901a\u5173\u6e38\u620f\uff0c\u8d62\u53d6\u5230yyyy")),c.a.createElement(h.j,{size:"lg"}),c.a.createElement(h.k,null,c.a.createElement("div",{style:{width:"100%",height:"auto",backgroundColor:"#ffffff",borderRadius:"10px",padding:"15px 0",textAlign:"center"}},c.a.createElement("label",{inline:!0,style:{fontSize:"18px",marginLeft:"4px",marginRight:"8px"}},"\u5df2\u7d2f\u8ba1\u9001\u51fa"),c.a.createElement("p",{style:{textAlign:"bottom"}},c.a.createElement("label",{inline:!0,style:{fontSize:"30px"}},"10086"),c.a.createElement("label",{inline:!0,style:{fontSize:"16px"}},"\u652f\u53e3\u7ea2")),c.a.createElement(h.b,{justify:"center"},c.a.createElement(h.c,{inline:!0,type:"check-circle-o"}),c.a.createElement("label",{inline:!0,style:{fontSize:"14px",marginLeft:"4px",marginRight:"8px"}},"\u5168\u573a\u5305\u90ae"),c.a.createElement(h.c,{inline:!0,type:"check-circle-o"}),c.a.createElement("label",{inline:!0,style:{fontSize:"14px",marginLeft:"4px",marginRight:"8px"}},"\u4e13\u67dc\u6b63\u54c1"),c.a.createElement(h.c,{inline:!0,type:"check-circle-o"}),c.a.createElement("label",{inline:!0,style:{fontSize:"14px",marginLeft:"4px"}},"\u5047\u4e00\u8d54\u767e"))),c.a.createElement(h.b,{justify:"center",style:{marginTop:"16px",flexFlow:"row nowrap",justifyContent:"space-between"}},c.a.createElement("span",{style:{color:"#363636",fontSize:"15px",fontWeight:"bold"}},"\u8fde\u95ef\u4e09\u5173\uff0c\u53e3\u7ea2\u5bc4\u56de\u5bb6!"),c.a.createElement(h.b,{justify:"center"},c.a.createElement("img",{src:"https://liuyang890-10060662.cos.ap-shanghai.myqcloud.com/lipstick/icon_game_instructions.png",style:{width:"16px",height:"16px"}}),c.a.createElement("span",{style:{color:"#EA68A2",fontSize:"15px",marginLeft:"5px"}},"\u95ef\u5173\u8bf4\u660e")))))}}]),t}(o.Component),u=i(215),m=function(e){function t(e){return Object(a.a)(this,t),Object(l.a)(this,Object(s.a)(t).call(this,e))}return Object(r.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props.itemData;return c.a.createElement("div",{style:{background:"rgba(255,255,255,1.0)",overflow:"hidden"}},c.a.createElement("img",{src:e.icon,style:{width:"100%",height:"auto"},alt:"",onClick:function(){return console.info("abcdefg")}}),c.a.createElement("div",{style:{paddingLeft:"12px",width:"100%",background:"rgba(255,255,255,1.0)"}},c.a.createElement("span",{style:{color:"#3D3D3D",fontSize:"12px",display:"block",float:"left",whiteSpace:"nowrap"}},"\u8fea\u5965 Diro#999"),c.a.createElement("div",{style:{display:"block",float:"left",whiteSpace:"nowrap",marginTop:"4px"}},c.a.createElement("span",{inline:!0,style:{color:"#FC2F2F",fontSize:"10px"}},"\xa5"),c.a.createElement("span",{inline:!0,style:{color:"#FC2F2F",fontSize:"21px"}},"2\u5143"),c.a.createElement("span",{inline:!0,style:{color:"#f73437",fontSize:"12px",marginLeft:"6px"}},"\u95ef\u5173\u8d2d")),c.a.createElement("div",{style:{display:"block",float:"left",whiteSpace:"nowrap",marginTop:"4px"}},c.a.createElement("span",{inline:!0,style:{color:"#3D3D3D",fontSize:"10px"}},"\u4e13\u67dc\u4ef7"),c.a.createElement("span",{inline:!0,style:{textDecoration:"line-through",color:"#3D3D3D",fontSize:"10px"}},"\xa5299"))),c.a.createElement("div",{style:{display:"block",float:"left",whiteSpace:"nowrap",marginTop:"8px",width:"100%",height:"30px"}},c.a.createElement(h.a,{type:"warning",size:"small",style:{fontSize:"15px",background:"linear-gradient(90deg, #FC2F2F, #FF678F, #FC2F2F)"}},"\u7acb\u5373\u95ef\u5173")))}}]),t}(o.Component);m.defaultProps={itemData:[]};var d=m,g=function(e){function t(e){return Object(a.a)(this,t),Object(l.a)(this,Object(s.a)(t).call(this,e))}return Object(r.a)(t,e),Object(n.a)(t,[{key:"getRows",value:function(e,t){for(var i=[],a=this.props,n=a.columnNum,l=a.data,s=a.onClick,r=a.itemStyle,o="".concat(100/n,"%"),p=Object(u.a)({width:o},r),m=0;m<e;m++){for(var g=[],y=function(e){var i=m*n+e,a=void 0;if(i<t){var r=l&&l[i];a=c.a.createElement(h.b.Item,{onClick:function(){return s&&s(r,i)},style:p},c.a.createElement(d,{itemData:r}))}else a=c.a.createElement(h.b.Item,{key:"griditem-".concat(i),style:p});g.push(a)},v=0;v<n;v++)y(v);i.push(c.a.createElement(h.b,{justify:"center",align:"stretch",key:"gridline-".concat(m)},g),c.a.createElement(h.j,{size:"lg"}))}return i}},{key:"render",value:function(){var e,t=this.props.data&&this.props.data.length||0,i=Math.ceil(t/this.props.columnNum);return e=this.getRows(i,t),c.a.createElement("div",null,e)}}]),t}(o.Component);g.defaultProps={data:[],columnNum:4,itemStyle:{}};var y=g,v=i(1),f=i.n(v),x=Array.from(new Array(15)).map(function(e,t){return{icon:"http://img.zcool.cn/community/0193cc58ccefffa801219c7727a0cc.jpg@900w_1l_2o_100sh.jpg",text:"\u53e3\u7ea2".concat(t)}}),b=function(e){function t(e){return Object(a.a)(this,t),Object(l.a)(this,Object(s.a)(t).call(this,e))}return Object(r.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{style:{background:"rgba(250,245,247,1.0)",overflow:"hidden"}},c.a.createElement(p,null),c.a.createElement(h.k,{size:"l",style:{marginTop:"20px"}},c.a.createElement(y,{data:x,columnNum:3,itemStyle:{width:"auto",height:"auto"},onClick:function(t,i){e.context.router.history.push("/GamePage")}})))}}]),t}(o.Component);b.contextTypes={router:f.a.object.isRequired};t.a=b},221:function(e,t,i){e.exports=i(510)},428:function(e,t,i){},430:function(e,t,i){},508:function(e,t,i){(function(e){e.constants={homeTab:"homeTab"}}).call(this,i(85))},510:function(e,t,i){"use strict";i.r(t);i(222);var a=i(0),n=i.n(a),l=i(10),s=i.n(l),r=(i(428),i(18)),o=i(19),c=i(21),h=i(16),p=i(22),u=(i(430),i(432),i(513)),m=i(514),d=i(208),g=i(217),y=i(11),v=i(84),f=function(e){function t(e){return Object(r.a)(this,t),Object(c.a)(this,Object(h.a)(t).call(this,e))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this.props;return n.a.createElement("div",{key:t.rowID,style:{padding:"0 15px",backgroundColor:"white"}},n.a.createElement("div",{style:{height:"50px",lineHeight:"50px",color:"#888",fontSize:"18px"}},n.a.createElement("span",{style:{color:"#FA666A",fontSize:"12px"}},"\u7b49\u5f85\u786e\u8ba4")),n.a.createElement("div",{style:(e={display:"-webkit-box"},Object(v.a)(e,"display","flex"),Object(v.a)(e,"paddingTop","15px"),Object(v.a)(e,"paddingBottom","15px"),e)},n.a.createElement("img",{style:{height:"78px",width:"78px",marginRight:"15px"},src:t.itemData.img,alt:""}),n.a.createElement("div",{style:{display:"inline-block"}},n.a.createElement("div",{style:{marginBottom:"8px",color:"#000",fontSize:"17px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"250px"}},t.itemData.title),n.a.createElement("div",{style:{fontSize:"13px"}},n.a.createElement("span",{style:{fontSize:"13px",color:"#F93338"}},"\u4e13\u67dc\u4ef7 "),n.a.createElement("span",{style:{fontSize:"13px",color:"#F93338",textDecoration:"line-through"}},"\xa5",t.rowID)),n.a.createElement(y.b,{justify:"center",style:{marginTop:"15px"}},n.a.createElement("img",{style:{height:"10px",width:"10px",marginRight:"5px"},src:"https://liuyang890-10060662.cos.ap-shanghai.myqcloud.com/lipstick/icon_commodity_tag.png",alt:""}),n.a.createElement("span",{style:{fontSize:"9px",color:"#000000"}},"\u5168\u573a\u5305\u90ae"),n.a.createElement("img",{style:{height:"10px",width:"10px",marginRight:"5px",marginLeft:"10px"},src:"https://liuyang890-10060662.cos.ap-shanghai.myqcloud.com/lipstick/icon_commodity_tag.png",alt:""}),n.a.createElement("span",{style:{fontSize:"9px",color:"#000000"}},"\u4e13\u67dc\u6b63\u54c1"),n.a.createElement("img",{style:{height:"10px",width:"10px",marginRight:"5px",marginLeft:"10px"},src:"https://liuyang890-10060662.cos.ap-shanghai.myqcloud.com/lipstick/icon_commodity_tag.png",alt:""}),n.a.createElement("span",{style:{fontSize:"9px",color:"#000000"}},"\u5047\u4e00\u8d54\u767e")))))}}]),t}(a.Component);f.defaultProps={itemData:[],sectionID:0,rowID:0};var x=f,b=Array.from(new Array(15)).map(function(e,t){return{img:"http://img.zcool.cn/community/0193cc58ccefffa801219c7727a0cc.jpg@900w_1l_2o_100sh.jpg",title:"\u8fea\u5965 Diro#".concat(t)}}),S=function(e){function t(e){var i;Object(r.a)(this,t),(i=Object(c.a)(this,Object(h.a)(t).call(this,e))).onRefresh=function(){i.setState({refreshing:!0,isLoading:!0}),setTimeout(function(){i.rData=i.genData(),i.setState({dataSource:i.state.dataSource.cloneWithRows(i.rData),refreshing:!1,isLoading:!1})},600)};var a=new y.e.DataSource({rowHasChanged:function(e,t){return e!==t}});return i.state={dataSource:a,refreshing:!0,isLoading:!1,height:document.documentElement.clientHeight,useBodyScroll:!0},i}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){this.state.useBodyScroll?document.body.style.overflow="auto":document.body.style.overflow="hidden"}},{key:"genData",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t={},i=0;i<b.length;i++){var a=e*b.length+i;t["".concat(a)]="row - ".concat(a)}return t}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.rData=e.genData(),e.setState({dataSource:e.state.dataSource.cloneWithRows(e.rData),isLoading:!1})},600)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{background:"rgba(250,245,247,1.0)",paddingLeft:"10px",paddingRight:"10px"}},n.a.createElement(y.j,{size:"md"}),n.a.createElement(y.e,{key:this.state.useBodyScroll?"0":"1",ref:function(t){return e.lv=t},dataSource:this.state.dataSource,renderRow:function(e,t,i){var a=i;(a<0||a>=b.length)&&(Object(g.a)("index"),a=b.length-1);var l=b[a];return n.a.createElement(x,{itemData:l,sectionID:t,rowID:i})},renderSeparator:function(e,t){return n.a.createElement("div",{key:"".concat(e,"-").concat(t),style:{backgroundColor:"rgba(250,245,247,1.0)",height:8,borderTop:"1px solid #ECECED",borderBottom:"1px solid #ECECED"}})},useBodyScroll:this.state.useBodyScroll,style:this.state.useBodyScroll?{}:{height:this.state.height,border:"1px solid #ddd",margin:"5px 0"},pullToRefresh:n.a.createElement(y.h,{refreshing:this.state.refreshing,onRefresh:this.onRefresh}),onEndReached:this.onEndReached,pageSize:5}))}}]),t}(a.Component),C=i(50),w=i(115),E="https://liuyang890-10060662.cos.ap-shanghai.myqcloud.com/lipstick/game/",k=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,O=window.innerHeight,A=(k=k/O>.636?.636*O:k)/750;document.getElementsByTagName("html")[0].style.fontSize=100*A+"px";var j,_=204*A,I=[{left:{url:E+"CircleCenter_1_split_left.png",w:"238",h:"407",rs:2*Math.PI},right:{url:E+"CircleCenter_1_split_right.png",w:"230",h:"407",cutx:"26",rs:2*Math.PI}},{left:{url:E+"CircleCenter_2_split_left.png",w:"238",h:"407",rs:2*Math.PI},right:{url:E+"CircleCenter_2_split_right.png",w:"230",h:"407",cutx:"26",rs:2*Math.PI}},{left:{url:E+"CircleCenter_3_split_left.png",w:"238",h:"407",rs:2*Math.PI},right:{url:E+"CircleCenter_3_split_right.png",w:"230",h:"407",cutx:"26",rs:2*Math.PI}}],P=0,R=42*A,z=8,T=[E+"Lipstick_1.png",E+"Lipstick_2.png",E+"Lipstick_3.png"],D=[E+"CircleCenter_1.png",E+"CircleCenter_2.png",E+"CircleCenter_3.png"],M=[{normal:E+"level_icon_1_active.png",active:E+"level_icon_1_active.png"},{normal:E+"level_icon_2.png",active:E+"level_icon_2_active.png"},{normal:E+"level_icon_3.png",active:E+"level_icon_3_active.png"}],B=Math.max(.25*O,.5*k-40),F={x:.5*k,y:494*A},L={w:43*A,h:168*A},N=O-58*A-L.h+R,q={ROTAION_SPEED_ARRAY:[-.06,-.03,-.02,.02,.04,.06,.02,-.06,-.03,.04,.06],rotationAccelerationSpeed:.001,levelArray:[0,5,.01,30]},H={ROTAION_SPEED_ARRAY:[-.06,-.03,-.02,.02,.04,.06],rotationAccelerationSpeed:.002,levelArray:[0,7,.02,40]},Y={ROTAION_SPEED_ARRAY:[-.06,-.03,-.02,.02,.04,.06],rotationAccelerationSpeed:.005,levelArray:[0,10,.03,30]},W={cheatDistance:5*L.w,startJudgeCheatDistanceNum:3},J={w:89*A,h:21*A,space:41*A,bottom:60*A},Q=function(){function e(t,i,a,n,l){Object(r.a)(this,e),this.x=t,this.y=i,this.radius=a,this.imgObj=n,this.angle=l}return Object(o.a)(e,[{key:"paint",value:function(e){e.save(),e.fillStyle=this.fillStyle,e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),e.restore()}}]),e}(),X=function(){function e(t,i,a,n,l){Object(r.a)(this,e),this.x=t,this.y=i,this.w=a,this.h=n,this.imgObj=l}return Object(o.a)(e,[{key:"paint",value:function(e){e.save(),e.translate(this.x,this.y),e.beginPath(),e.moveTo(0,0),e.lineTo(0,this.w),e.lineTo(this.w,this.h),e.lineTo(0,this.h),e.closePath(),this.imgObj&&e.drawImage(this.imgObj,0,0,this.w,this.h),e.restore()}}]),e}(),G=function(){function e(t,i,a,n,l,s,o){Object(r.a)(this,e),this.x=t,this.y=i,this.w=a,this.h=n,this.z=l,this.imgObj=s,this.angle=o}return Object(o.a)(e,[{key:"paint",value:function(e){e.save(),e.translate(this.x,this.y),e.rotate(this.angle+1.5*Math.PI),e.beginPath(),e.moveTo(-this.w/2,-this.z),e.lineTo(this.w/2,-this.z),e.lineTo(this.w/2,this.h-this.z),e.lineTo(-this.w/2,this.h-this.z),e.closePath(),this.imgObj&&e.drawImage(this.imgObj,-1*this.w/2,-this.z,this.w,this.h),e.restore()}},{key:"update",value:function(){}}]),e}(),U=function(e){function t(e,i,a,n,l,s,o,p,u){var m;return Object(r.a)(this,t),(m=Object(c.a)(this,Object(h.a)(t).call(this,n,l,s,e,i))).restNum=a,m.y=l,m.isQuake=o,m.isSplit=p,m.level=u,m}return Object(p.a)(t,e),Object(o.a)(t,[{key:"paint",value:function(e){Object(w.a)(Object(h.a)(t.prototype),"paint",this).call(this,e)}},{key:"update",value:function(e,t,i,a){this.isQuake&&(this.isup?(this.y=this.y-2,j-this.y>=4&&!1):(this.y=this.y+2,j<=this.y&&(this.y=j,this.isQuake=!1,!0,j=null))),this.angle+=e,this.angle%=2*Math.PI,this.isSplit?this.resetCircleCenterSplit(t,i,a,e):this.resetCircleCenterRotate(t)}},{key:"resetCircleCenterRotate",value:function(e){e.save(),e.translate(this.x,this.y);var t=this.imgObj,i=(this.x,this.y,this.radius);e.rotate(this.angle),e.drawImage(t,-1*i,-1*i,2*i,2*i),e.restore(),e.save()}},{key:"resetCircleCenterSplit",value:function(e,t,i,a){i.left.x-=2.5,i.left.y-=z,z-=.2,i.right.x+=2.5,i.right.y-=z;var n=I[this.level].right.cutx*A,l=I[this.level].left.w*A,s=I[this.level].right.w*A,r={left:{x:F.x+i.left.x-.5*l,y:this.y+i.left.y},right:{x:F.x-n+i.right.x+.5*s,y:this.y+i.right.y}},o=this.radius;e.save(),e.translate(r.left.x,r.left.y);var c=new Image;c.src=I[this.level].left.url;l=I[this.level].left.w*A;e.arc(0,0,5,0,2*Math.PI,!0),I[this.level].left.rs-=a,e.rotate(I[this.level].left.rs),e.drawImage(c,-1*o+.5*l,-1*o,l,2*o),e.restore(),e.save(),e.translate(r.right.x,r.right.y);var h=new Image;h.src=I[this.level].right.url;s=I[this.level].right.w*A;I[this.level].right.rs+=a,e.rotate(I[this.level].right.rs),e.drawImage(h,.5*-s,-1*o,l,2*o),e.restore(),r.left.x<-1*l&&(this.isSplit=!1,t.nextLevel(t))}}]),t}(Q),$=function(e){function t(e,i,a,n,l,s){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(h.a)(t).call(this,0,0,e,i,R,n,a))).angle=a,o.resetPosition(),o}return Object(p.a)(t,e),Object(o.a)(t,[{key:"update",value:function(e,t){this.angle+=e,this.isSplit?this.resetCircleRotationEnd(t):this.resetPosition()}},{key:"resetPosition",value:function(){this.x=F.x+_*Math.cos(this.angle),this.y=F.y+_*Math.sin(this.angle)}},{key:"paint",value:function(e){Object(w.a)(Object(h.a)(t.prototype),"paint",this).call(this,e)}},{key:"resetCircleRotationEnd",value:function(e){this.y-=z>0?.2*z:1.4*z}}]),t}(G),K=function(e){function t(e,i,a,n,l,s,o,p,u){var m;return Object(r.a)(this,t),(m=Object(c.a)(this,Object(h.a)(t).call(this,e,i,a,n,R,l,s))).newY=m.y,m.isFail=o,m.failDirection=p,m.failSpeed=u,m}return Object(p.a)(t,e),Object(o.a)(t,[{key:"update",value:function(e){this.isFail?(this.y+=2*z,z+=.24,this.x-=100*this.failSpeed,this.y>=O+R&&e.gameOver.call(e)):this.y>this.newY&&(this.y+=-30,this.y=this.y<this.newY?this.newY:this.y)}},{key:"paint",value:function(e){Object(w.a)(Object(h.a)(t.prototype),"paint",this).call(this,e)}}]),t}(G),V=function(){function e(t,i,a){if(Object(r.a)(this,e),!t||!t.getContext)throw new Error("\u53c2\u6570canvas\u4e0d\u80fd\u4e3a\u7a7a, \u4e14\u5fc5\u987b\u4e3acanvas\u5143\u7d20");this.canvas=t,this.level=1,this.isPause=!1,this.isOver=!0,this.isCanTap=!0,this.centerCircle=null,this.rotationCircles=[],this.bulletCircles=[],this.nowSpeed=null,this.AimBullet=null,this.levelLength=null,this.rotationSpeed=.03,this.rotaionTimes=0,this.oRandom=0,this.isFastChangeRotationAccelerationSpeed=!1,this.mobileTouch=null,this.levelSpaceTime=1,this.centerCircleSplitReposition={left:{x:0,y:0},right:{x:0,y:0}},this.saveCenterCircleSplitReposition={left:{x:0,y:0},right:{x:0,y:0}},this.levelA=0,this.levelSuccessHandle=null,this.gameOverHandle=null}return Object(o.a)(e,[{key:"getParams",value:function(e){return 0==e?q:1==e?H:2==e?Y:3==e?Y:4==e?H:5==e?q:void 0}},{key:"init",value:function(){var e=this,t=this.getParams(this.levelA);P=0,this.canvas.width=k,this.canvas.height=O,this.context=this.canvas.getContext("2d");var i=new Image;i.src=E+"CircleCenter_1.png";var a=t.levelArray[1];this.centerCircle&&delete this.centerCircle,this.centerCircle||(this.centerCircle=new U(i,.5*Math.PI,a,F.x,F.y,_,!1,!1,1));var n="ontouchend"in document?"touchend":"click";this.canvas.addEventListener(n,function(t){t.preventDefault(),e.tapHandle(t)}),this.canvas.addEventListener("click",function(t){e.tapHandle(t)})}},{key:"gameStart",value:function(){this.level=1,this.isPause=!1,this.isOver=!1,this.isCanTap=!0,this.levelChange(),this.update()}},{key:"gamePause",value:function(){this.isCanTap=!1,this.isPause=!0}},{key:"gameContinue",value:function(e){this.isPause=!1,this.isCanTap=!0,(this.isOver||e)&&(this.levelChange(),this.isOver=!1),this.update()}},{key:"gameOver",value:function(){this.isOver=!0,this.isCanTap=!1,this.gameOverHandle&&this.gameOverHandle(this.level)}},{key:"update",value:function(){if(this.levelA=parseInt(this.level-1),this.rotaionTimes++,this.context.clearRect(0,0,k,O),!this.isPause&&!this.isOver){var e,t;for(t=this.rotationCircles.length,e=0;e<t;e++)this.rotationCircles[e].update(this.rotationSpeed,this.context);if(t=this.bulletCircles.length,this.AimBullet.update(this),!this.isCanTap){var i=this.AimBullet;if(i.y<=F.y+B+20){var a=this.checkCollision.call(this,i);a.isCollision&&(this.AimBullet.isFail=!0,this.AimBullet.failDirection=a.failDirection,this.AimBullet.failSpeed=this.rotationSpeed),i.y==F.y+_&&this.normalResults()}}this.paint()}this.centerCircle.level=this.levelA,this.changeSpeed()}},{key:"changeSpeed",value:function(){var e=this.getParams(this.levelA);this.nowSpeed=e.ROTAION_SPEED_ARRAY[this.oRandom];var t=parseInt(e.levelArray[1]-P);3==this.level&&t<=3?this.last_3_changeSpeed.call(this,t):this.rotationSpeed>=this.nowSpeed?this.isFastChangeRotationAccelerationSpeed?this.rotationSpeed-=2*e.rotationAccelerationSpeed:this.rotationSpeed-=e.rotationAccelerationSpeed:this.isFastChangeRotationAccelerationSpeed?this.rotationSpeed+=2*e.rotationAccelerationSpeed:this.rotationSpeed+=e.rotationAccelerationSpeed,this.centerCircle.update(this.rotationSpeed,this.context,this,this.centerCircleSplitReposition)}},{key:"last_3_changeSpeed",value:function(e){if(3==e){var t=this.getParams(3);this.nowSpeed=t.ROTAION_SPEED_ARRAY[this.oRandom];e=parseInt(t.levelArray[1]-P);this.rotationSpeed>=this.nowSpeed?this.isFastChangeRotationAccelerationSpeed?this.rotationSpeed-=2*t.rotationAccelerationSpeed:this.rotationSpeed-=t.rotationAccelerationSpeed:this.isFastChangeRotationAccelerationSpeed?this.rotationSpeed+=2*t.rotationAccelerationSpeed:this.rotationSpeed+=t.rotationAccelerationSpeed}else if(2==e){t=this.getParams(1);this.nowSpeed=t.ROTAION_SPEED_ARRAY[this.oRandom];e=parseInt(t.levelArray[1]-P);this.rotationSpeed>=this.nowSpeed?this.isFastChangeRotationAccelerationSpeed?this.rotationSpeed-=2*t.rotationAccelerationSpeed:this.rotationSpeed-=t.rotationAccelerationSpeed:this.isFastChangeRotationAccelerationSpeed?this.rotationSpeed+=2*t.rotationAccelerationSpeed:this.rotationSpeed+=t.rotationAccelerationSpeed}else{t=this.getParams(1);this.nowSpeed=t.ROTAION_SPEED_ARRAY[this.oRandom];e=parseInt(t.levelArray[1]-P);this.rotationSpeed>=this.nowSpeed?(this.isFastChangeRotationAccelerationSpeed?this.rotationSpeed-=2*t.rotationAccelerationSpeed:this.rotationSpeed-=t.rotationAccelerationSpeed,this.rotationSpeed-=t.rotationAccelerationSpeed):this.isFastChangeRotationAccelerationSpeed?this.rotationSpeed+=2*t.rotationAccelerationSpeed:this.rotationSpeed+=t.rotationAccelerationSpeed}}},{key:"normalResults",value:function(){this.bulletCircles[P]&&(this.bulletCircles[P].imgObj.src=E+"Sword_small_"+this.level+"_gray.png",P++,this.centerCircle.restNum=parseInt(this.getParams(this.levelA).levelArray[1]-P)),this.isCanTap=!0;var e=new Image;e.src=T[this.level-1],this.rotationCircles.push(new $(L.w,L.h,.5*Math.PI,e,!1));var t=parseInt(this.getParams(this.levelA).levelArray[1]);if(P==t){D[this.levelA+1]&&(this.centerCircle.imgObj.src=D[this.levelA+1],this.centerCircle.restNum=this.getParams(this.levelA+1).levelArray[1]),this.centerCircle.isSplit=!0;for(var i=0;i<this.rotationCircles.length;i++)this.rotationCircles[i].isSplit=!0;for(var a in this.AimBullet)delete this.AimBullet[a]}else{for(var a in j=this.centerCircle.y,this.centerCircle.isQuake=!0,this.AimBullet)delete this.AimBullet[a];var n=new Image;n.src=T[this.levelA],this.AimBullet=new K(F.x,N,L.w,L.h,n,.5*Math.PI,!1,null,null)}}},{key:"paint",value:function(){var e,t,i=this;for(e=this.rotationCircles.length,t=0;t<e;t++)this.rotationCircles[t].paint(this.context);for(e=this.bulletCircles.length,t=0;t<e;t++)this.bulletCircles[t].paint(this.context);this.AimBullet.paint(this.context),this.centerCircle.paint(this.context),window.requestAnimationFrame(function(){i.update()})}},{key:"nextLevel",value:function(){P=0,this.gamePause(),this.level++,this.level,this.levelLength,this.levelSuccessHandle&&this.levelSuccessHandle(this.level)}},{key:"levelChange",value:function(){var e,t,i;this.levelA=this.level-1,this.rotationCircles=[],this.bulletCircles=[],this.centerCircleSplitReposition={left:{x:0,y:0},right:{x:0,y:0}},console.info("level = "+this.level+", levelA = "+this.levelA),z=8;for(var a=0;a<this.levelLength;a++)document.getElementById("levelbox").children[a].children[0].src=M[a].normal,a<=this.levelA&&(document.getElementById("levelbox").children[a].children[0].src=M[a].active);e=parseInt(this.getParams(this.levelA).levelArray[0]);parseInt(this.getParams(this.levelA).levelArray[3]);for(this.centerCircle.restNum=parseInt(this.getParams(this.levelA).levelArray[1]),i=2*Math.PI/e,a=0;a<e;a++){var n=new Image;n.src=T[this.level-1],t=new $(L.w,L.h,i*a,n,!1),this.rotationCircles.push(t)}for(e=parseInt(this.getParams(this.levelA).levelArray[1]),a=0;a<e;a++){var l=new Image;l.src=E+"Sword_small_"+this.level+".png";var s=new X(15,O-J.bottom-J.space*e+a*J.space,J.w,J.h,l);this.bulletCircles.push(s)}var r=new Image;r.src=T[this.level-1],this.AimBullet&&delete this.AimBullet,this.AimBullet||(this.AimBullet=new K(F.x,N,L.w,L.h,r,.5*Math.PI,!1)),this.getParams(this.levelA).levelArray.length>=3?this.rotationSpeed=this.getParams(this.levelA).levelArray[2]:this.rotationSpeed=.03}},{key:"crossMul",value:function(e,t){return e.x*t.y-e.y*t.x}},{key:"checkCross",value:function(e,t,i,a){var n={x:e.x-i.x,y:e.y-i.y},l={x:t.x-i.x,y:t.y-i.y},s={x:a.x-i.x,y:a.y-i.y},r=this.crossMul(n,s)*this.crossMul(l,s);return n={x:i.x-e.x,y:i.y-e.y},l={x:a.x-e.x,y:a.y-e.y},s={x:t.x-e.x,y:t.y-e.y},r<=5e4&&(this.crossMul(n,s),this.crossMul(l,s)),r<=0&&this.crossMul(n,s)*this.crossMul(l,s)<=0}},{key:"checkCollision",value:function(e){for(var t=e.x-.5*e.w,i=e.y-e.z,a=e.w,n=e.h,l={x:t,y:i},s={x:t+a,y:i},r={x:t+a,y:i+n},o={x:t,y:i+n},c=0;c<this.rotationCircles.length;c++){var h=this.rotationCircles[c].angle;h%=2*Math.PI;var p=this.rotationCircles[c].x,u=this.rotationCircles[c].y,m=this.rotationCircles[c].w,d=this.rotationCircles[c].h,g=this.rotationCircles[c].z,y={x:p-m/2*Math.sin(h),y:u+m/2*Math.cos(h)},v={x:p+m/2*Math.sin(h),y:u-m/2*Math.cos(h)},f={x:p+(d-g)*Math.cos(h)+m/2*Math.sin(h),y:u+(d-g)*Math.sin(h)-m/2*Math.cos(h)},x={x:p+(d-g)*Math.cos(h)-m/2*Math.sin(h),y:u+(d-g)*Math.sin(h)+m/2*Math.cos(h)};if(this.checkCross(l,s,x,y)||this.checkCross(l,o,x,y)||this.checkCross(s,r,x,y))return{isCollision:!0,failDirection:"left"};if(this.checkCross(l,s,x,f)||this.checkCross(l,o,x,f)||this.checkCross(s,r,x,f))return{isCollision:!0,failDirection:"bottom"};if(this.checkCross(l,s,f,v)||this.checkCross(l,o,f,v)||this.checkCross(s,r,f,v))return{isCollision:!0,failDirection:"right"};e.y}return!1}},{key:"tapHandle",value:function(e){if(e.stopPropagation(),e.preventDefault(),this.isCanTap){this.isCanTap=!1;this.bulletCircles.length;var t=this.getParams(this.levelA);parseInt(t.levelArray[1]-P)<=W.startJudgeCheatDistanceNum&&(this.nowSpeed>0?this.nowSpeed=.1:this.nowSpeed=-.1,this.isFastChangeRotationAccelerationSpeed=!0),this.AimBullet.newY=F.y+_}}}]),e}(),Z=function(e){function t(e){var i;return Object(r.a)(this,t),(i=Object(c.a)(this,Object(h.a)(t).call(this,e))).levelSuccess=i.levelSuccess.bind(Object(C.a)(Object(C.a)(i))),i.gameOver=i.gameOver.bind(Object(C.a)(Object(C.a)(i))),i}return Object(p.a)(t,e),Object(o.a)(t,[{key:"initCanvas",value:function(){this.canvas=document.getElementById("time_graph_canvas"),this.game||(this.game=new V(this.canvas,!1),this.game.levelSuccessHandle=this.levelSuccess,this.game.gameOverHandle=this.gameOver),this.game.init(),this.game.gameStart()}},{key:"levelSuccess",value:function(){var e=this;this.game.level<4?this.game.gameContinue(!0):y.f.alert("Congratulations","\u606d\u559c\u4f60\u6210\u529f\u901a\u5173",[{text:"\u518d\u73a9\u4e00\u6b21",onPress:function(){e.game.init(),e.game.gameStart()}}])}},{key:"gameOver",value:function(){var e=this;y.f.alert("Game Over","\u6e38\u620f\u7ed3\u675f",[{text:"\u91cd\u65b0\u5f00\u59cb",onPress:function(){e.game.init(),e.game.gameStart()}}])}},{key:"componentDidMount",value:function(){this.initCanvas()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("canvas",{id:"time_graph_canvas"}))}}]),t}(a.Component),ee=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement(u.a,null,n.a.createElement(m.a,{exact:!0,path:"/",component:d.a}),n.a.createElement(m.a,{exact:!0,path:"/PrizeList",component:S}),n.a.createElement(m.a,{exact:!0,path:"/GamePage",component:Z}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=i(515);s.a.render(n.a.createElement(te.a,{basename:"/lipstick/build"},n.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[221,2,1]]]);
//# sourceMappingURL=main.7133ccc3.chunk.js.map